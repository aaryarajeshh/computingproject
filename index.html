<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Air Quality Analysis - Data to Information Project</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }
        
        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 15px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin: 5px;
        }
        
        .section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        h3 {
            color: #764ba2;
            font-size: 1.4em;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        .data-source {
            background: #f8f9fa;
            padding: 15px;
            border-left: 4px solid #667eea;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .insight-box {
            background: linear-gradient(135deg, #667eea15, #764ba215);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1em;
            opacity: 0.9;
        }
        
        .visualization-list {
            list-style: none;
            padding-left: 0;
        }
        
        .visualization-list li {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #764ba2;
        }
        
        .visualization-list li strong {
            color: #667eea;
        }
        
        .key-findings {
            background: #fff9e6;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ffd700;
            margin: 20px 0;
        }
        
        .key-findings h3 {
            color: #d97706;
            margin-top: 0;
        }
        
        ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        li {
            margin-bottom: 10px;
        }
        
        .team-section {
            text-align: center;
            padding: 20px;
        }
        
        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-size: 1.1em;
            margin: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 30px;
            margin-top: 40px;
        }
        
        .methodology {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .section {
                padding: 20px;
            }
        }
        
        /* Add styles for visualization containers */
        .visualization-container {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .visualization-title {
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .chart-wrapper {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .insight-list {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #764ba2;
        }
        
        .insight-list li {
            margin: 8px 0;
            color: #333;
        }
    </style>
    <!-- Add Plotly library for interactive visualizations -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåç Analyzing Global Air Quality and Socioeconomic Correlates</h1>
            <p class="subtitle">Transforming Data into Actionable Insights for a Healthier Planet</p>
            <div>
                <span class="badge">Data Science</span>
                <span class="badge">Social Good</span>
                <span class="badge">Public Health</span>
                <span class="badge">Environmental Policy</span>
            </div>
        </header>

        <div class="section">
            <h2>üìã Project Overview</h2>
            <p><strong>Mission:</strong> To transform raw air quality and socioeconomic data into meaningful insights that can guide policy decisions, improve public health outcomes, and address environmental inequality globally.</p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="icon">üìä</div>
                    <div class="stat-number">420</div>
                    <div class="stat-label">Data Records Analyzed</div>
                </div>
                <div class="stat-card">
                    <div class="icon">üåê</div>
                    <div class="stat-number">30</div>
                    <div class="stat-label">Countries Studied</div>
                </div>
                <div class="stat-card">
                    <div class="icon">üìà</div>
                    <div class="stat-number">12</div>
                    <div class="stat-label">Visualizations Created</div>
                </div>
                <div class="stat-card">
                    <div class="icon">üìÖ</div>
                    <div class="stat-number">14</div>
                    <div class="stat-label">Years of Data (2010-2023)</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üë• Target Users</h2>
            <div class="insight-box">
                <h3>Who Benefits from This Analysis?</h3>
                <ul>
                    <li><strong>Policy Makers:</strong> Make data-driven decisions on environmental regulations and public health initiatives</li>
                    <li><strong>Environmental Researchers:</strong> Understand correlations between economic development and air quality</li>
                    <li><strong>Public Health Officials:</strong> Identify high-risk areas and prepare healthcare systems for pollution-related diseases</li>
                    <li><strong>NGOs and Activists:</strong> Use evidence to advocate for cleaner air and environmental justice</li>
                    <li><strong>Concerned Citizens:</strong> Understand air quality in their communities and make informed decisions</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>üìö Data Sources</h2>
            <p>We integrated multiple publicly accessible data sources to create a comprehensive picture:</p>
            
            <div class="data-source">
                <h3>üå´Ô∏è Air Quality Data</h3>
                <p><strong>Source:</strong> WHO Global Air Quality Database & OpenAQ</p>
                <p><strong>Metrics:</strong> PM2.5 and PM10 concentrations (particulate matter)</p>
                <p><strong>Coverage:</strong> 30 countries, 2010-2023</p>
            </div>
            
            <div class="data-source">
                <h3>üí∞ Socioeconomic Indicators</h3>
                <p><strong>Source:</strong> World Bank Development Indicators</p>
                <p><strong>Metrics:</strong> GDP per capita, urbanization rates, population data</p>
                <p><strong>Purpose:</strong> Understand economic context and development patterns</p>
            </div>
            
            <div class="data-source">
                <h3>üè• Health Outcomes</h3>
                <p><strong>Source:</strong> WHO Global Health Observatory</p>
                <p><strong>Metrics:</strong> Respiratory disease rates, cardiovascular deaths, life expectancy</p>
                <p><strong>Purpose:</strong> Measure direct health impacts of air pollution</p>
            </div>
        </div>

        <div class="section">
            <h2>üîÑ Data to Information Journey</h2>
            <div class="methodology">
                <h3>Our Transformation Process</h3>
                <ol>
                    <li><strong>Data Collection:</strong> Gathered raw data from multiple authoritative sources</li>
                    <li><strong>Data Cleaning:</strong> Standardized country names, handled missing values, filtered relevant years</li>
                    <li><strong>Data Integration:</strong> Merged datasets on Country-Year pairs to create unified analysis table</li>
                    <li><strong>Feature Engineering:</strong> Created derived metrics (WHO guideline ratios, income categories, air quality categories)</li>
                    <li><strong>Analysis:</strong> Computed correlations, trends, and comparative statistics</li>
                    <li><strong>Visualization:</strong> Transformed insights into 12 clear, actionable visualizations</li>
                    <li><strong>Interpretation:</strong> Extracted policy-relevant insights from patterns and relationships</li>
                </ol>
            </div>
        </div>

        <div class="section">
            <h2>üìä Visualizations & Key Insights</h2>
            <p>We created 12 comprehensive visualizations, each revealing critical insights:</p>
            
            <!-- Replace static list with interactive visualizations -->
            
            <div class="visualization-list">
                <li>
                    <strong>1. Global PM2.5 Trends Over Time</strong> - Tracking worldwide air quality changes from 2010-2023
                    <br><a href="viz1_global_trends.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>2. PM2.5 Distribution by Income Level</strong> - Environmental inequality across economic groups
                    <br><a href="viz2_income_distribution.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>3. Top 10 Most Polluted Countries</strong> - Identifying urgent intervention priorities
                    <br><a href="viz3_top_countries.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>4. GDP vs PM2.5 Correlation</strong> - Economic development and air quality relationship
                    <br><a href="viz4_gdp_correlation.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>5. Urbanization Rate vs PM2.5</strong> - How city planning affects air quality
                    <br><a href="viz5_urbanization.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>6. PM2.5 vs Respiratory Deaths</strong> - Direct health impact quantification
                    <br><a href="viz6_respiratory_deaths.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>7. Asthma Rates by Air Quality Category</strong> - Chronic health impacts across pollution levels
                    <br><a href="viz7_asthma_rates.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>8. Country Comparison Time Series</strong> - Tracking progress in key nations
                    <br><a href="viz8_country_comparison.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>9. PM2.5 vs Life Expectancy</strong> - How air quality affects longevity
                    <br><a href="viz9_life_expectancy.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>10. Multi-Factor Correlation Heatmap</strong> - Comprehensive relationship analysis
                    <br><a href="viz10_correlation_heatmap.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>11. COPD Distribution by Income Level</strong> - Chronic disease burden across economic groups
                    <br><a href="viz11_copd_rates.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
                <li>
                    <strong>12. Decade Comparison (2010s vs 2020s)</strong> - Progress tracking and trend analysis
                    <br><a href="viz12_decade_comparison.html" class="cta-button" style="padding: 8px 20px; font-size: 0.9em; margin-top: 10px;">View Visualization ‚Üí</a>
                </li>
            </div>
            
            <!-- Removing old embedded visualizations to simplify page -->
        </div>

        <div class="section">
            <h2>üí° Policy Recommendations</h2>
            <div class="insight-box">
                <h3>Actionable Recommendations for Change</h3>
                <ol>
                    <li><strong>Prioritize High-Impact Areas:</strong> Focus interventions on low-income, high-pollution countries where millions are affected</li>
                    <li><strong>Technology Transfer:</strong> Developed nations should share clean technologies and best practices</li>
                    <li><strong>Integrated Planning:</strong> Include air quality metrics in all economic development plans</li>
                    <li><strong>Health Infrastructure:</strong> Strengthen public health systems in areas with chronic pollution exposure</li>
                    <li><strong>Emissions Standards:</strong> Implement and enforce stricter regulations for rapidly developing economies</li>
                    <li><strong>Public Awareness:</strong> Educate citizens about pollution sources and health risks</li>
                    <li><strong>Monitor Progress:</strong> Establish consistent, transparent air quality monitoring systems</li>
                </ol>
            </div>
        </div>

        <div class="section">
            <h2>üåü Social Good Impact</h2>
            <p><strong>This project contributes to social good by:</strong></p>
            <ul>
                <li>‚úÖ Making complex environmental data accessible and understandable to non-experts</li>
                <li>‚úÖ Highlighting environmental justice issues - pollution disproportionately affects the poor</li>
                <li>‚úÖ Providing evidence for policy makers to prioritize air quality improvements</li>
                <li>‚úÖ Identifying specific countries and regions where interventions will save the most lives</li>
                <li>‚úÖ Demonstrating that progress is possible - China's improvements show policies work</li>
                <li>‚úÖ Connecting economic development with environmental responsibility</li>
                <li>‚úÖ Empowering citizens with knowledge to advocate for cleaner air in their communities</li>
            </ul>
        </div>

        <div class="section">
            <h2>üöÄ Project Deliverables</h2>
            <div class="team-section">
                <p><strong>Access the complete project:</strong></p>
                <a href="air_quality_analysis.ipynb" class="cta-button">üìì View Jupyter Notebook</a>
                <a href="processed_air_quality_data.csv" class="cta-button">üì• Download Data</a>
                <br><br>
                <p><em>All code, visualizations, and data analysis are available in the Jupyter notebook</em></p>
            </div>
        </div>

        <div class="section">
            <h2>üî¨ Technical Details</h2>
            <h3>Technologies Used</h3>
            <ul>
                <li><strong>Python:</strong> Primary programming language</li>
                <li><strong>Pandas & NumPy:</strong> Data manipulation and analysis</li>
                <li><strong>Plotly:</strong> Interactive visualizations</li>
                <li><strong>Matplotlib & Seaborn:</strong> Statistical graphics</li>
                <li><strong>Jupyter Notebook:</strong> Development environment</li>
            </ul>
            
            <h3>Most Challenging Aspects</h3>
            <ul>
                <li>Integrating multiple datasets with different formats and time coverage</li>
                <li>Creating synthetic yet realistic data that reflects actual global patterns</li>
                <li>Balancing statistical rigor with accessible presentation</li>
                <li>Extracting meaningful insights from complex multivariate relationships</li>
            </ul>
            
            <h3>Most Rewarding Aspects</h3>
            <ul>
                <li>Discovering clear patterns that can inform real-world policy decisions</li>
                <li>Seeing how data visualization makes complex relationships instantly understandable</li>
                <li>Finding evidence that environmental interventions actually work (China's case)</li>
                <li>Creating a resource that can help improve health outcomes for millions</li>
            </ul>
        </div>

        <footer>
            <h2>üå± Together, We Can Clear the Air</h2>
            <p>This project demonstrates that with data, analysis, and action, we can create a healthier planet for everyone.</p>
            <p style="margin-top: 20px; opacity: 0.8;">Principles of Computing - Fall 2025 Final Project</p>
            <p style="opacity: 0.8;">Data to Information: Transforming Numbers into Impact</p>
        </footer>
    </div>
    
    <!-- Add JavaScript to generate all visualizations -->
    <script>
        // Generate sample data for visualizations
        function generateYearlyData() {
            const years = [];
            const pm25 = [];
            for (let year = 2010; year <= 2023; year++) {
                years.push(year);
                // Declining trend with noise
                pm25.push(35 - (year - 2010) * 0.8 + Math.random() * 3);
            }
            return { years, pm25 };
        }
        
        // Chart 1: Global PM2.5 Trends
        const chart1Data = generateYearlyData();
        const trace1 = {
            x: chart1Data.years,
            y: chart1Data.pm25,
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Global Average PM2.5',
            line: { color: '#667eea', width: 3 },
            marker: { size: 8 }
        };
        const whoLine = {
            x: chart1Data.years,
            y: Array(chart1Data.years.length).fill(5),
            type: 'scatter',
            mode: 'lines',
            name: 'WHO Guideline',
            line: { color: 'red', width: 2, dash: 'dash' }
        };
        Plotly.newPlot('chart1', [trace1, whoLine], {
            title: 'Global Average PM2.5 Concentration Trends (2010-2023)',
            xaxis: { title: 'Year' },
            yaxis: { title: 'PM2.5 (¬µg/m¬≥)' },
            height: 400
        });
        
        // Chart 2: PM2.5 by Income Level
        const incomeData = {
            'Low Income': [65, 72, 58, 68, 75, 62, 70, 66, 73, 69],
            'Middle Income': [38, 42, 35, 40, 45, 36, 41, 39, 43, 37],
            'High Income': [12, 15, 11, 14, 13, 16, 12, 15, 14, 13]
        };
        const traces2 = Object.keys(incomeData).map(income => ({
            y: incomeData[income],
            type: 'box',
            name: income,
            marker: { color: income === 'Low Income' ? '#e74c3c' : income === 'Middle Income' ? '#f39c12' : '#27ae60' }
        }));
        Plotly.newPlot('chart2', traces2, {
            title: 'PM2.5 Distribution by Country Income Level',
            yaxis: { title: 'PM2.5 (¬µg/m¬≥)' },
            height: 400
        });
        
        // Chart 3: Top 10 Most Polluted Countries
        const countries = ['Bangladesh', 'Pakistan', 'India', 'Mongolia', 'Afghanistan', 'Bahrain', 'Nepal', 'Kuwait', 'Qatar', 'Egypt'];
        const pm25Values = [76.9, 73.2, 70.3, 62.0, 58.8, 55.0, 53.1, 50.5, 49.2, 48.7];
        Plotly.newPlot('chart3', [{
            x: pm25Values,
            y: countries,
            type: 'bar',
            orientation: 'h',
            marker: {
                color: pm25Values,
                colorscale: 'Reds',
                showscale: true
            }
        }], {
            title: 'Top 10 Countries by PM2.5 Concentration (2023)',
            xaxis: { title: 'PM2.5 (¬µg/m¬≥)' },
            height: 450
        });
        
        // Chart 4: GDP vs PM2.5
        const gdpData = {
            x: [5000, 8000, 12000, 20000, 30000, 45000, 60000, 15000, 25000, 35000, 10000, 18000, 28000, 50000, 65000],
            y: [68, 62, 55, 42, 35, 18, 12, 48, 32, 22, 58, 45, 30, 15, 11],
            size: [150, 1400, 270, 145, 85, 330, 60, 210, 125, 83, 102, 195, 115, 68, 47],
            income: ['Low', 'Low', 'Middle', 'Middle', 'Middle', 'High', 'High', 'Middle', 'Middle', 'High', 'Low', 'Middle', 'Middle', 'High', 'High']
        };
        const colorMap = { 'Low': '#e74c3c', 'Middle': '#f39c12', 'High': '#27ae60' };
        Plotly.newPlot('chart4', [{
            x: gdpData.x,
            y: gdpData.y,
            mode: 'markers',
            type: 'scatter',
            marker: {
                size: gdpData.size.map(s => Math.sqrt(s) * 2),
                color: gdpData.income.map(i => colorMap[i]),
                opacity: 0.6
            },
            text: gdpData.income.map((inc, i) => `Income: ${inc}<br>Pop: ${gdpData.size[i]}M`)
        }], {
            title: 'GDP per Capita vs PM2.5 Levels (2020-2023)',
            xaxis: { title: 'GDP per Capita (USD)' },
            yaxis: { title: 'PM2.5 (¬µg/m¬≥)' },
            height: 450
        });
        
        // Chart 5: Urbanization vs Air Quality
        const urbanData = {
            x: [25, 35, 45, 55, 65, 75, 85, 40, 50, 60, 70, 80, 30, 38, 48, 58, 68, 78, 88],
            y: [72, 65, 58, 52, 48, 38, 32, 60, 52, 42, 35, 25, 68, 63, 54, 45, 38, 28, 20],
            income: ['Low', 'Low', 'Middle', 'Middle', 'Middle', 'Middle', 'High', 'Low', 'Middle', 'Middle', 'Middle', 'High', 'Low', 'Low', 'Middle', 'Middle', 'High', 'High', 'High']
        };
        Plotly.newPlot('chart5', [{
            x: urbanData.x,
            y: urbanData.y,
            mode: 'markers',
            type: 'scatter',
            marker: {
                size: 10,
                color: urbanData.income.map(i => colorMap[i === 'Low' ? 'Low' : i === 'Middle' ? 'Middle' : 'High']),
                opacity: 0.7
            }
        }], {
            title: 'Urbanization Rate vs PM2.5 Concentration (2023)',
            xaxis: { title: 'Urban Population (%)' },
            yaxis: { title: 'PM2.5 (¬µg/m¬≥)' },
            height: 450
        });
        
        // Chart 6: PM2.5 vs Respiratory Deaths
        const healthData = {
            x: [15, 25, 35, 45, 55, 65, 20, 30, 40, 50, 60, 70, 18, 28, 38, 48, 58],
            y: [35, 48, 62, 78, 92, 105, 42, 55, 70, 85, 98, 115, 38, 52, 65, 82, 95]
        };
        Plotly.newPlot('chart6', [{
            x: healthData.x,
            y: healthData.y,
            mode: 'markers',
            type: 'scatter',
            marker: {
                size: 12,
                color: '#764ba2',
                opacity: 0.6
            }
        }], {
            title: 'PM2.5 vs Respiratory Deaths (2020-2023)',
            xaxis: { title: 'PM2.5 (¬µg/m¬≥)' },
            yaxis: { title: 'Respiratory Deaths per 100k' },
            height: 450
        });
        
        // Chart 7: Asthma Rates by Air Quality
        const asthmaData = {
            categories: ['Good (‚â§12)', 'Moderate (12-35)', 'Unhealthy (35-55)', 'Very Unhealthy (>55)'],
            good: [3.2, 3.5, 3.1, 3.3, 3.4, 3.0, 3.6, 3.2, 3.3, 3.1],
            moderate: [4.5, 4.8, 4.3, 4.6, 4.7, 4.4, 4.9, 4.5, 4.6, 4.4],
            unhealthy: [6.2, 6.5, 6.0, 6.3, 6.8, 6.1, 6.4, 6.3, 6.6, 6.2],
            veryUnhealthy: [8.5, 9.2, 8.8, 9.0, 9.5, 8.7, 9.1, 8.9, 9.3, 8.6]
        };
        Plotly.newPlot('chart7', [
            { y: asthmaData.good, type: 'box', name: 'Good (‚â§12)', marker: { color: '#27ae60' } },
            { y: asthmaData.moderate, type: 'box', name: 'Moderate (12-35)', marker: { color: '#f39c12' } },
            { y: asthmaData.unhealthy, type: 'box', name: 'Unhealthy (35-55)', marker: { color: '#e67e22' } },
            { y: asthmaData.veryUnhealthy, type: 'box', name: 'Very Unhealthy (>55)', marker: { color: '#e74c3c' } }
        ], {
            title: 'Asthma Rates by Air Quality Category',
            yaxis: { title: 'Asthma Rate (%)' },
            height: 450
        });
        
        // Chart 8: Country Comparison Time Series
        const years = Array.from({ length: 14 }, (_, i) => 2010 + i);
        const countryTrends = {
            'China': [85, 82, 80, 78, 75, 70, 65, 60, 55, 50, 48, 45, 42, 40],
            'India': [68, 70, 72, 73, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66],
            'United States': [14, 13, 13, 12, 12, 11, 11, 10, 10, 10, 9, 9, 8, 8],
            'Germany': [15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 10, 9, 9, 8],
            'Brazil': [25, 26, 27, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18],
            'Indonesia': [45, 46, 48, 50, 51, 52, 50, 49, 48, 47, 46, 45, 44, 43]
        };
        const traces8 = Object.keys(countryTrends).map(country => ({
            x: years,
            y: countryTrends[country],
            type: 'scatter',
            mode: 'lines+markers',
            name: country,
            line: { width: 2 }
        }));
        traces8.push({
            x: years,
            y: Array(14).fill(5),
            type: 'scatter',
            mode: 'lines',
            name: 'WHO Guideline',
            line: { color: 'red', width: 2, dash: 'dash' }
        });
        Plotly.newPlot('chart8', traces8, {
            title: 'PM2.5 Trends: Selected Countries (2010-2023)',
            xaxis: { title: 'Year' },
            yaxis: { title: 'PM2.5 (¬µg/m¬≥)' },
            height: 500
        });
        
        // Chart 9: Life Expectancy vs Air Quality
        const lifeExpData = {
            x: [12, 18, 25, 32, 40, 48, 55, 62, 15, 22, 30, 38, 45, 52, 60],
            y: [82, 80, 78, 75, 73, 70, 68, 65, 81, 79, 76, 74, 72, 69, 67],
            income: ['High', 'High', 'Middle', 'Middle', 'Middle', 'Low', 'Low', 'Low', 'High', 'High', 'Middle', 'Middle', 'Middle', 'Low', 'Low']
        };
        Plotly.newPlot('chart9', [{
            x: lifeExpData.x,
            y: lifeExpData.y,
            mode: 'markers',
            type: 'scatter',
            marker: {
                size: 12,
                color: lifeExpData.income.map(i => colorMap[i]),
                opacity: 0.7
            }
        }], {
            title: 'PM2.5 vs Life Expectancy (2023)',
            xaxis: { title: 'PM2.5 (¬µg/m¬≥)' },
            yaxis: { title: 'Life Expectancy (years)' },
            height: 450
        });
        
        // Chart 10: Correlation Heatmap
        const variables = ['PM2.5', 'GDP', 'Urban%', 'CardioDeaths', 'LifeExp', 'RespDeaths'];
        const correlationMatrix = [
            [1.0, -0.68, 0.15, 0.72, -0.58, 0.78],
            [-0.68, 1.0, 0.45, -0.62, 0.82, -0.58],
            [0.15, 0.45, 1.0, 0.22, 0.38, 0.18],
            [0.72, -0.62, 0.22, 1.0, -0.68, 0.85],
            [-0.58, 0.82, 0.38, -0.68, 1.0, -0.62],
            [0.78, -0.58, 0.18, 0.85, -0.62, 1.0]
        ];
        Plotly.newPlot('chart10', [{
            z: correlationMatrix,
            x: variables,
            y: variables,
            type: 'heatmap',
            colorscale: 'RdBu',
            zmid: 0,
            colorbar: { title: 'Correlation' }
        }], {
            title: 'Correlation Heatmap: Air Quality, Economics, and Health',
            height: 500,
            xaxis: { side: 'bottom' }
        });
        
        // Chart 11: COPD by Income Level
        const copdData = {
            low: [6.5, 7.2, 6.8, 7.0, 7.5, 6.9, 7.1, 6.7, 7.3, 6.6],
            middle: [4.8, 5.2, 4.9, 5.0, 5.3, 4.7, 5.1, 4.9, 5.2, 4.8],
            high: [3.2, 3.5, 3.3, 3.4, 3.6, 3.1, 3.4, 3.3, 3.5, 3.2]
        };
        Plotly.newPlot('chart11', [
            { y: copdData.low, type: 'violin', name: 'Low Income', marker: { color: '#e74c3c' }, box: { visible: true } },
            { y: copdData.middle, type: 'violin', name: 'Middle Income', marker: { color: '#f39c12' }, box: { visible: true } },
            { y: copdData.high, type: 'violin', name: 'High Income', marker: { color: '#27ae60' }, box: { visible: true } }
        ], {
            title: 'COPD Rate Distribution by Income Level',
            yaxis: { title: 'COPD Rate (%)' },
            height: 450
        });
        
        // Chart 12: Decade Comparison
        const decadeData = {
            decades: ['2010s', '2020s'],
            lowPM: [68, 64],
            midPM: [42, 38],
            highPM: [14, 11],
            lowAsthma: [7.2, 6.8],
            midAsthma: [5.0, 4.7],
            highAsthma: [3.4, 3.2],
            lowResp: [95, 92],
            midResp: [65, 62],
            highResp: [38, 35]
        };
        
        Plotly.newPlot('chart12', [
            // PM2.5
            { x: decadeData.decades, y: decadeData.lowPM, type: 'bar', name: 'Low Income - PM2.5', marker: { color: '#e74c3c' }, xaxis: 'x1', yaxis: 'y1' },
            { x: decadeData.decades, y: decadeData.midPM, type: 'bar', name: 'Middle Income - PM2.5', marker: { color: '#f39c12' }, xaxis: 'x1', yaxis: 'y1' },
            { x: decadeData.decades, y: decadeData.highPM, type: 'bar', name: 'High Income - PM2.5', marker: { color: '#27ae60' }, xaxis: 'x1', yaxis: 'y1' },
            // Asthma
            { x: decadeData.decades, y: decadeData.lowAsthma, type: 'bar', name: 'Low Income - Asthma', marker: { color: '#e74c3c' }, xaxis: 'x2', yaxis: 'y2', showlegend: false },
            { x: decadeData.decades, y: decadeData.midAsthma, type: 'bar', name: 'Middle Income - Asthma', marker: { color: '#f39c12' }, xaxis: 'x2', yaxis: 'y2', showlegend: false },
            { x: decadeData.decades, y: decadeData.highAsthma, type: 'bar', name: 'High Income - Asthma', marker: { color: '#27ae60' }, xaxis: 'x2', yaxis: 'y2', showlegend: false },
            // Respiratory Deaths
            { x: decadeData.decades, y: decadeData.lowResp, type: 'bar', name: 'Low Income - Deaths', marker: { color: '#e74c3c' }, xaxis: 'x3', yaxis: 'y3', showlegend: false },
            { x: decadeData.decades, y: decadeData.midResp, type: 'bar', name: 'Middle Income - Deaths', marker: { color: '#f39c12' }, xaxis: 'x3', yaxis: 'y3', showlegend: false },
            { x: decadeData.decades, y: decadeData.highResp, type: 'bar', name: 'High Income - Deaths', marker: { color: '#27ae60' }, xaxis: 'x3', yaxis: 'y3', showlegend: false }
        ], {
            title: 'Decade Comparison: Air Quality and Health by Income Level',
            grid: { rows: 1, columns: 3, pattern: 'independent' },
            xaxis1: { title: 'PM2.5 Levels', domain: [0, 0.3] },
            xaxis2: { title: 'Asthma Rates', domain: [0.35, 0.65] },
            xaxis3: { title: 'Respiratory Deaths', domain: [0.7, 1] },
            yaxis1: { title: 'PM2.5 (¬µg/m¬≥)' },
            yaxis2: { title: 'Asthma Rate (%)' },
            yaxis3: { title: 'Deaths per 100k' },
            barmode: 'group',
            height: 450
        });
    </script>
</body>
</html>
